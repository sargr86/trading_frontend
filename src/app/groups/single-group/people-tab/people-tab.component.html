<div class="tab-container">
    <div id="all-members-wrap">
        <div id="admins" *ngIf="!isOwnGroup">
            <strong>Admins</strong>

            <ul [class.bordered]="!isOwnGroup">
                <li *ngFor="let admin of admins">
                    <img class="avatar" [src]="admin.avatar|getImgPath: 'user_avatars'">
                    <strong>{{admin.first_name + ' ' + admin.last_name}}</strong>
                </li>
            </ul>
        </div>

        <div id="members">
            <strong>Members</strong>

            <!--            <app-members-list [selectedGroup]="getGroup('members')" [authUser]="authUser"></app-members-list>-->

            <ul [class.bordered]="isOwnGroup">
                <li *ngFor="let member of members">
                    <div class="details">
                        <img class="avatar" [src]="member.avatar|getImgPath: 'user_avatars'">
                        <strong>{{member.first_name + ' ' + member.last_name}}</strong>
                    </div>
                    <div>
                        <button [matMenuTriggerFor]="menu" class="show-actions" *ngIf="isOwnGroup">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>

                        <mat-menu #menu="matMenu">
                            <button id="make-admin" mat-menu-item
                                    *ngIf="!member.groups_members.is_admin && !adminRequestSent"
                                    (click)="makeAdmin(member)" [disableRipple]="true">
                                <i class="fas fa-check"></i>
                                <span>Make admin</span>
                            </button>
                            <button id="remove-make-admin" mat-menu-item *ngIf="member.groups_members.is_admin"
                                    (click)="removeAdminPrivileges(member)" [disableRipple]="true">
                                <i class="fas fa-check"></i>
                                <span>Remove group admin privileges</span>
                            </button>
                            <button id="make-moderator" mat-menu-item (click)="makeModerator(member)"
                                    [disableRipple]="true">
                                <i class="fas fa-check"></i>
                                <span>Make moderator</span>
                            </button>
                            <button id="remove-member-btn" mat-menu-item *ngIf="isOwnGroup" [disableRipple]="true">
                                <i class="fas fa-times" (click)="removeMember(member)"></i>
                                <span>Remove</span>
                            </button>
                        </mat-menu>


                    </div>
                </li>
            </ul>
        </div>

        <div id="member-requests" *ngIf="isOwnGroup">
            <strong>Requests</strong>

            <ul>
                <li *ngFor="let member of requestedMembers" class="group-member pending">
                    <img class="avatar" [src]="member.avatar|getImgPath: 'user_avatars'">
                    <strong>{{member.first_name + ' ' + member.last_name}}</strong>

                    <button class="confirm-request" (click)="confirmJoinGroup(member)">Confirm</button>
                    <button class="ignore-request" (click)="ignoreJoinGroup(member)">Ignore</button>
                </li>
            </ul>
        </div>
    </div>
</div>
