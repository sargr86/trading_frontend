<section class="crypto-section">

    <div class="favorites">
        <div class="top-wrap">
            <h2>My Watchlist</h2>

            <div class="stock-type-selector">
                <select (change)="stockTypeChanged($event)">
                    <option *ngFor="let type of stockTypes" [value]="type.value">{{type.name}}</option>
                </select>
                <i class="fas fa-times" (click)="closeModal()"></i>
            </div>
        </div>

        <app-stocks-list-sample [stocks]="compareWithMainStockList(userStocks)"
                                [userStocks]="compareWithMainStockList(userStocks)"
                                *ngIf="filteredStocks.length > 0"></app-stocks-list-sample>
    </div>


    <div class="all-stocks">
        <div class="top-wrap">
            <h2>All Stocks</h2>

            <div class="center-group">
                <app-search-stocks-form [modal]="true" *ngIf="stocksLoading!=='idle'"
                                        (search)="getSearchResults($event)"
                ></app-search-stocks-form>
                <mat-spinner [diameter]="20" *ngIf="stocksLoading==='loading'"></mat-spinner>

            </div>

            <div class="paginator">
                <mat-paginator *ngIf="stocks.length > 0 && stocksLoading!=='loading'" (page)="handle($event)"
                               #paginator
                               [length]="stocks.length" [pageIndex]="pageIndex"
                               [pageSize]="pageSize" [hidePageSize]="true"
                               [pageSizeOptions]="[2,5,10,25,100]">
                </mat-paginator>
            </div>
        </div>


        <app-stocks-list-sample [stocks]="filteredStocks" *ngIf="filteredStocks.length > 0"
                                [userStocks]="compareWithMainStockList(userStocks)"
                                (followedStock)="followStock($event)"></app-stocks-list-sample>
    </div>

</section>

